import{j as e}from"./createLucideIcon.BpKCcK5f.js";import{r as t}from"./index.DhY--VwN.js";import{C as g,b as j,c as f,a as N}from"./card.vKWluQ9u.js";import{B as v}from"./badge.BrHX-xry.js";import{B as w}from"./button.CUDpEhTg.js";import{D as b,a as C}from"./dialog.V7vL-G61.js";import{C as n}from"./calendar.U0wzpopL.js";import{U as o}from"./user.CfCgY5y1.js";import{C as D}from"./chevron-right.BUkA5mzH.js";import"./utils.XzIJMjSM.js";import"./index.CPmIgwol.js";import"./x.BbJBw2S7.js";function H(){const[r,c]=t.useState([]),[a,d]=t.useState(null),[m,l]=t.useState(!1),[x,i]=t.useState(!0);t.useEffect(()=>{fetch(`/api/noticias?t=${Date.now()}`).then(s=>s.json()).then(s=>{const p=s.filter(u=>u.publicada);c(p),i(!1)}).catch(s=>{console.error("Error loading news:",s),i(!1)})},[]);const h=s=>{d(s),l(!0)};return x||r.length===0?null:e.jsxs("section",{id:"noticias",className:"py-20 bg-white dark:bg-gray-900",children:[e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx(v,{className:"mb-4 text-lg px-4 py-2",children:"Noticias"}),e.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Últimas Novedades"}),e.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Mantente informado con las últimas noticias y actualizaciones"})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(s=>e.jsxs(g,{className:"overflow-hidden group hover:shadow-xl transition-all duration-300 cursor-pointer",onClick:()=>h(s),children:[s.imagenDestacada&&e.jsxs("div",{className:"relative h-48 overflow-hidden",children:[e.jsx("img",{src:s.imagenDestacada,alt:s.titulo,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"})]}),e.jsxs(j,{children:[e.jsx(f,{className:"line-clamp-2 group-hover:text-primary transition-colors",children:s.titulo}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(n,{className:"h-4 w-4"}),e.jsx("span",{children:s.fechaPublicacion})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(o,{className:"h-4 w-4"}),e.jsx("span",{children:s.autor})]})]})]}),e.jsxs(N,{children:[e.jsx("p",{className:"text-muted-foreground line-clamp-3 mb-4",children:s.resumen}),e.jsxs(w,{variant:"ghost",className:"p-0 h-auto font-semibold group-hover:text-primary",children:["Leer más ",e.jsx(D,{className:"ml-1 h-4 w-4"})]})]})]},s.id))})]}),e.jsx(b,{open:m,onOpenChange:l,children:e.jsx(C,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:a&&e.jsxs(e.Fragment,{children:[a.imagenDestacada&&e.jsxs("div",{className:"relative h-64 -mx-6 -mt-6 mb-6 overflow-hidden",children:[e.jsx("img",{src:a.imagenDestacada,alt:a.titulo,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"}),e.jsxs("div",{className:"absolute bottom-6 left-6 right-6",children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:a.titulo}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-white/90",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(n,{className:"h-4 w-4"}),e.jsx("span",{children:a.fechaPublicacion})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(o,{className:"h-4 w-4"}),e.jsx("span",{children:a.autor})]})]})]})]}),e.jsxs("div",{className:"prose dark:prose-invert max-w-none",children:[e.jsx("p",{className:"text-lg text-muted-foreground mb-6",children:a.resumen}),e.jsx("div",{className:"whitespace-pre-wrap",children:a.contenido})]})]})})})]})}export{H as SeccionNoticias};
