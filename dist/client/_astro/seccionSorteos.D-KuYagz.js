import{c,j as e}from"./createLucideIcon.BpKCcK5f.js";import{C as k,a as D}from"./card.vKWluQ9u.js";import{B as p}from"./badge.BrHX-xry.js";import{B as o}from"./button.CUDpEhTg.js";import{D as M,a as P,b as S,c as z}from"./dialog.V7vL-G61.js";import{u as E}from"./embla-carousel-react.esm.B5JtcWlE.js";import{r as a}from"./index.DhY--VwN.js";import{C as I}from"./clock.DzxfqaVr.js";import{C as A}from"./calendar.U0wzpopL.js";import{U as L}from"./users.DQ5vPsOa.js";import{C as u}from"./chevron-right.BUkA5mzH.js";import"./utils.XzIJMjSM.js";import"./index.CPmIgwol.js";import"./x.BbJBw2S7.js";/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g=c("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=c("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b=c("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);function Q(){const[j,s]=E({align:"start",loop:!0}),[i,n]=a.useState([]),[t,y]=a.useState(null),[v,m]=a.useState(!1),[N,d]=a.useState(!0);a.useEffect(()=>{fetch("/api/sorteos").then(r=>{if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return r.json()}).then(r=>{Array.isArray(r)&&r.length>0?n(r):(console.warn("API returned empty or invalid data, using defaults"),n(i)),d(!1)}).catch(r=>{console.error("Error loading raffles:",r),console.log("Using default raffles data"),n(i),d(!1)})},[]);const x=a.useCallback(()=>{s&&s.scrollPrev()},[s]),h=a.useCallback(()=>{s&&s.scrollNext()},[s]),w=r=>{y(r),m(!0)};return N?e.jsx("div",{className:"py-20 text-center",children:"Cargando sorteos..."}):e.jsxs("section",{id:"sorteos",className:"py-20 bg-background",children:[e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx(p,{variant:"secondary",className:"mb-4",children:"Oportunidades de Venta"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-foreground mb-4 text-balance",children:"Sorteos Actuales"}),e.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Impulsa tus ventas promocionando los sorteos con los acumulados mÃ¡s atractivos del momento."})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"overflow-hidden",ref:j,children:e.jsx("div",{className:"flex -ml-4",children:i.map(r=>e.jsx("div",{className:"pl-4 flex-[0_0_100%] md:flex-[0_0_50%] lg:flex-[0_0_33.33%] min-w-0",children:e.jsx(k,{className:"h-full hover:shadow-lg transition-all duration-300 border-border hover:border-primary/30",children:e.jsxs(D,{className:"p-6 flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(p,{variant:r.featured?"default":"secondary",className:r.featured?"bg-primary text-primary-foreground":"",children:r.featured?"Destacado":"Activo"}),e.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[e.jsx(I,{className:"h-3 w-3"}),r.timeLeft]})]}),e.jsx("h3",{className:"text-lg font-bold text-foreground mb-2",children:r.name}),e.jsx("p",{className:"text-2xl font-bold text-primary mb-4",children:r.prize}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground mb-6 mt-auto",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(A,{className:"h-3 w-3"}),r.date]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(L,{className:"h-3 w-3"}),r.participants]})]}),e.jsxs(o,{variant:"outline",className:"w-full border-primary text-primary hover:bg-primary hover:text-primary-foreground bg-transparent",onClick:()=>w(r),children:[e.jsx(b,{className:"h-4 w-4 mr-2"}),"Ver Material Promocional"]})]})})},r.id))})}),e.jsx(o,{variant:"outline",size:"icon",className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-1/2 hidden md:flex bg-background border-primary text-primary hover:bg-primary hover:text-primary-foreground z-10",onClick:x,children:e.jsx(g,{className:"h-6 w-6"})}),e.jsx(o,{variant:"outline",size:"icon",className:"absolute right-0 top-1/2 -translate-y-1/2 translate-x-1/2 hidden md:flex bg-background border-primary text-primary hover:bg-primary hover:text-primary-foreground z-10",onClick:h,children:e.jsx(u,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"flex justify-center gap-4 mt-8 md:hidden",children:[e.jsx(o,{variant:"outline",size:"icon",className:"bg-background border-primary text-primary hover:bg-primary hover:text-primary-foreground",onClick:x,children:e.jsx(g,{className:"h-6 w-6"})}),e.jsx(o,{variant:"outline",size:"icon",className:"bg-background border-primary text-primary hover:bg-primary hover:text-primary-foreground",onClick:h,children:e.jsx(u,{className:"h-6 w-6"})})]})]}),e.jsx(M,{open:v,onOpenChange:m,children:e.jsx(P,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:t&&e.jsxs(e.Fragment,{children:[e.jsx(S,{children:e.jsxs(z,{className:"text-2xl font-bold text-primary",children:["Material Promocional - ",t.name]})}),e.jsxs("div",{className:"space-y-6 mt-4",children:[t.promotionalMaterial.images.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[e.jsx(b,{className:"h-5 w-5 text-primary"}),"ImÃ¡genes Promocionales"]}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:t.promotionalMaterial.images.map((r,l)=>e.jsx("div",{className:"relative rounded-lg overflow-hidden border-2 border-border",children:e.jsx("img",{src:r,alt:`Material promocional ${l+1}`,className:"w-full h-auto object-contain bg-muted",onError:C=>{C.currentTarget.src="https://placehold.co/800x600/e5e7eb/6b7280?text=Material+Promocional"}})},l))})]}),t.promotionalMaterial.pdfs.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[e.jsx(f,{className:"h-5 w-5 text-primary"}),"Documentos Descargables"]}),e.jsx("div",{className:"space-y-2",children:t.promotionalMaterial.pdfs.map((r,l)=>e.jsxs("a",{href:r.url,download:!0,className:"flex items-center justify-between p-4 bg-muted rounded-lg hover:bg-muted/80 transition-colors group",children:[e.jsx("span",{className:"font-medium text-foreground",children:r.name}),e.jsx(f,{className:"h-5 w-5 text-primary group-hover:scale-110 transition-transform"})]},l))})]}),e.jsx("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-muted-foreground",children:["ðŸ’¡ ",e.jsx("strong",{children:"Tip:"})," Descarga e imprime este material para exhibirlo en tu punto de venta y aumentar tus ventas."]})})]})]})})})]})}export{Q as SeccionSorteos};
